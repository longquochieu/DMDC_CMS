<!-- server/views/media/index.ejs -->
<div class="row">
  <div class="col-md-3">
    <div class="card mb-3">
      <div class="card-header d-flex justify-content-between align-items-center">
        <strong>Thư mục</strong>
        <div>
          <button class="btn btn-sm btn-outline-primary" id="btnNewFolder">+ Thư mục</button>
        </div>
      </div>
      <div class="card-body p-2">
        <div id="folderTree" class="folder-tree">
          <!-- render bằng JS -->
        </div>
        <div class="mt-2 small text-muted">
          • <em>Tất cả</em> = mọi file<br/>
          • <em>Chưa phân loại</em> = file chưa gán vào thư mục
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-9">
    <div class="card mb-3">
      <div class="card-header">
        <div class="d-flex flex-wrap gap-2 align-items-end">
          <div>
            <label class="form-label mb-0">Tìm</label>
            <input id="q" class="form-control form-control-sm" placeholder="Từ khoá tên file/URL">
          </div>
          <div>
            <label class="form-label mb-0">Loại</label>
            <select id="type" class="form-select form-select-sm">
              <option value="all">Tất cả</option>
              <option value="image">Ảnh</option>
              <option value="video">Video</option>
              <option value="audio">Audio</option>
              <option value="doc">Tài liệu</option>
            </select>
          </div>
          <div>
            <label class="form-label mb-0">Sắp xếp</label>
            <select id="sort" class="form-select form-select-sm">
              <option value="created_at">Ngày tạo</option>
              <option value="filename">Tên file</option>
              <option value="size">Dung lượng</option>
              <option value="mime">MIME</option>
            </select>
          </div>
          <div>
            <label class="form-label mb-0">Chiều</label>
            <select id="dir" class="form-select form-select-sm">
              <option value="desc">Giảm dần</option>
              <option value="asc">Tăng dần</option>
            </select>
          </div>
          <div class="ms-auto">
            <button id="btnRefresh" class="btn btn-sm btn-outline-secondary">Làm mới</button>
          </div>
        </div>
      </div>
      <div class="card-body">
        <div id="mediaGrid" class="row g-3">
          <!-- render bằng JS -->
        </div>
        <div id="mediaPager" class="d-flex justify-content-between align-items-center mt-3">
          <!-- render bằng JS -->
        </div>
      </div>
    </div>
  </div>
</div>

<script src="/js/media-folders.js"></script>
<script>
  window.MEDIA_FOLDERS_BOOT = {
    csrf: "<%= csrfToken %>"
  };
</script>
